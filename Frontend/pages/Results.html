<!-- Frontend/Results.html -->

<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Tus Resultados Simplificados - HealthCheck</title>
    
    <link rel="stylesheet" href="../styles/styles.css"> 
    
    <link rel="icon" type="image/x-icon" href="../../media/HealthCheck.ico">
    
    <!-- Marked.js - Markdown parser -->
    <script src="https://cdn.jsdelivr.net/npm/marked/marked.min.js"></script>
    
    <!-- jsPDF - PDF Generator -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
    
    <!-- Theme Toggle (load early to prevent flash) -->
    <script src="../scripts/utils/theme-toggle.js"></script>
    
    <!-- History Manager -->
    <script src="../scripts/utils/history-manager.js"></script>
</head>
<body class="results-page-body">
    <header>
        <div class="logo-section">
            <a href="../../WebCheck.html" class="logo">
                <img src="../../media/corazon.png" alt="Logo de HealthCheck" class="logo-icon">
                <span>HealthCheck</span>
            </a>
        </div>
        
        <div class="right-menu">
            <a href="History.html" class="btn-primary">Mi Historial</a>
            <a href="../../WebCheck.html" class="btn-primary">Nueva Carga</a>
        </div>
    </header>

    <!-- Disclaimer Modal Overlay -->
    <div class="disclaimer-modal-overlay" id="disclaimerModal">
        <div class="disclaimer-modal">
            <div class="disclaimer-modal-icon">
                <img src="../../media/warning.png" alt="Warning" class="warning-icon-large">
            </div>
            <h2 class="disclaimer-modal-title">Aviso Importante</h2>
            <div class="disclaimer-modal-text">
                <p>Esta interpretaci√≥n fue generada con el apoyo de <strong>Inteligencia Artificial (IA)</strong> y tiene fines meramente informativos.</p>
                <p><strong>NO sustituye</strong> el diagn√≥stico, la opini√≥n o el tratamiento de un m√©dico o profesional de la salud cualificado.</p>
                <p>Consulte siempre a su m√©dico con sus resultados originales.</p>
            </div>
            <button class="btn-disclaimer-accept" id="acceptDisclaimerBtn">
                ‚úì He le√≠do y comprendo
            </button>
        </div>
    </div>

    <main>
        
        <h1 class="results-title" id="resultsTitle">Cargando resultados...</h1>
        
        <!-- Timestamp Display -->
        <div class="analysis-timestamp" id="analysisTimestamp" style="display: none;">
            <span class="timestamp-text" id="timestampText">-</span>
            <span class="timestamp-relative" id="timestampRelative">-</span>
        </div>
        
        <!-- Processing Stats Bar -->
        <div class="processing-stats" id="processingStats" style="display: none;">
            <div class="stat-item">
                <span class="stat-label">Tiempo de procesamiento:</span>
                <span class="stat-value" id="processingTime">-</span>
            </div>
            <div class="stat-item">
                <span class="stat-label">P√°ginas analizadas:</span>
                <span class="stat-value" id="numPages">-</span>
            </div>
            <div class="stat-item">
                <span class="stat-label">Tama√±o:</span>
                <span class="stat-value" id="fileSize">-</span>
            </div>
            <div class="stat-item">
                <span class="stat-label">Palabras extra√≠das:</span>
                <span class="stat-value" id="wordCount">-</span>
            </div>
        </div>
    
        <!-- Resumen Ejecutivo Card -->
        <div class="summary-card" id="resumenEjecutivo">
            <div class="summary-icon">üìã</div>
            <div class="summary-content">
                <h2>Resumen General</h2>
                <p id="resumenTexto">Cargando resumen...</p>
            </div>
        </div>

        <!-- Contenedor para la Interpretaci√≥n T√©cnica -->
        <div class="results-container results-technical" id="interpretacionConceptos">
            <div class="results-header results-header-technical">
                <span class="results-header-icon">üî¨</span>
                <span>Interpretaci√≥n de Conceptos</span>
            </div>
            <div class="loading-animation"></div>
        </div>

        <!-- Contenedor para los Resultados Simplificados -->
        <div class="results-container results-simplified" id="resultadosSimplificados">
            <div class="results-header results-header-simplified">
                <span class="results-header-icon">üíö</span>
                <span>Resultados Simplificados</span>
            </div>
            <div class="loading-animation"></div>
        </div>
        
        <div class="final-cta">
            <button class="btn-primary" id="downloadBtn">üì• Descargar Resultados (PDF)</button>
        </div>
        
    </main>

    
    <footer class="disclaimer-footer">
        <img src="../../media/warning.png" alt="Warning" class="disclaimer-icon">
        <p><strong>Aviso Importante:</strong> La interpretaci√≥n de estos resultados fue generada con el apoyo de Inteligencia Artificial (IA) y tiene fines meramente informativos. Esta herramienta NO sustituye el diagn√≥stico, la opini√≥n o el tratamiento de un m√©dico o profesional de la salud cualificado. Consulta siempre a tu m√©dico con tus resultados originales.</p>
    </footer>

    <!-- Back to Top Button -->
    <button class="back-to-top" id="backToTopBtn" title="Volver arriba">
        ‚Üë
    </button>

    <script src="../scripts/modules/pdf-generator.js"></script>
    <script src="../scripts/modules/results-page.js"></script>
</body>
</html>